<!DOCTYPE html>
<html>


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Thomas Steeples">
    <title>Computational Game Theory - Problem Sheet 1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.min.js" defer></script>
    <script src="js/main.js" defer></script>
    <script type="text/javascript" id="MathJax-script" defer
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h1 class="title">Computational Game Theory</h1>
                <h2>Problem Sheet 3 - Dynamic Games</h2>
                <h3>23 February 2021</h3>
                <p hidden>
                    <!-- Insert new commands here -->
                </p>
            </section>

            <section>
                <h2>Exercise 1: Formulating an extensive form game</h2>
                <p>
                    Consider a 2-player game in which player 1 can choose \(A\) or \(B\). The game ends if she chooses
                    \(A\), while it continues to player 2 if he chooses \(B\). Player 2 can then choose \(C\) or \(D\)
                    with
                    the game ending if \(C\) is chosen, and continuing again to player 1 if \(D\) is chosen. Player
                    \(1\) can
                    then choose \(E\) or \(F\), with the game ending either choice.
                </p>
            </section>

            <section>
                <h2>Exercise 1a</h2>
                <p>
                    Model this as a game tree.
                </p>
            </section>

            <section>
                <h2>Exercise 1a: Solution</h2>
                <img src="games/1a.svg">
            </section>

            <section>
                <h2>Exercise 1b</h2>
                <p>
                    How many pure strategies does each player have?
                </p>
            </section>

            <section>
                <h2>Exercise 1b: Solution</h2>
                <p>
                    The players' pure strategies are given by:
                    \begin{align*}
                    \Sigma_1 & = \{AE,AF,BE,BF\} \\
                    \Sigma_2 & = \{C,D\}
                    \end{align*}
                    Hence, player \(1\) has four pure strategies and player \(2\) has two.
                </p>
            </section>

            <section>
                <h2>Exercise 1c</h2>
                <p>
                    Identify the subgames of this game.
                </p>
            </section>

            <section>
                <h2>
                    Exercise 1c: Solution
                </h2>
                <img src="games/1ci.svg">
            </section>

            <section>
                <h2>
                    Exercise 1c: Solution
                </h2>
                <img src="games/1cii.svg">
            </section>

            <section>
                <h2>
                    Exercise 1c: Solution
                </h2>
                <img src="games/1ciii.svg">
            </section>

            <section>
                <h2>
                    Exercise 1d
                </h2>
                <p>
                    Suppose that choice \(A\) gives utilities \((2, 0)\) (i.e., \(2\) to player \(1\), \(0\) to player
                    \(2\)),
                    choice \(C\) gives \((3, 1)\), choice \(E\) gives \((1, 1)\), and \(F\) gives \((1, 2)\). Then what
                    are the Nash
                    equilibria of the game? What SPNE outcome(s) does Zermelo’s algorithm yield?
                </p>
            </section>

            <section>
                <h2>
                    Exercise 1d: Solution
                </h2>
                <p>
                    The pure Nash equilibria are:
                    \begin{equation*}
                    (AE,D), (AF,D), (BE,C)
                    \end{equation*}
                </p>
            </section>

            <section>
                <h2>
                    Exercise 1d: Solution
                </h2>
                <p>By Zermelo’s algorithm:</p>
                <img src="games/1di.svg">
            </section>

            <section>
                <h2>
                    Exercise 1d: Solution
                </h2>
                <p>By Zermelo’s algorithm:</p>
                <img src="games/1dii.svg">
            </section>

            <section>
                <h2>
                    Exercise 1d: Solution
                </h2>
                <p>By Zermelo’s algorithm:</p>
                <img src="games/1diii.svg">
            </section>

            <section>
                <h2>
                    Exercise 1d: Solution
                </h2>
                <p>By Zermelo’s algorithm:</p>
                <img src="games/1div.svg" style="width:20%">
            </section>

            <section>
                <h2>
                    Exercise 2: Imperfect information games
                </h2>
                <p>
                    Consider an extensive form imperfect information game in which each player \(i\)
                    has \(k\) information sets, that is, \(\lvert\mathcal{I}\rvert = k\) for all \(1\le i \le n\).
                </p>
            </section>

            <section>
                <h2>
                    Exercise 2a
                </h2>
                <p>
                    If a player has an identical number \(m\) of possible actions in each information set, how many pure
                    strategies does he have?
                </p>
            </section>

            <section>
                <h2>
                    Exercise 2a: Solution
                </h2>
                <p>
                    Strategies in imperfect information games are functions from information sets to actions. So how
                    many functions \(\sigma : [1..k] \to [1..m]\) are there? There are \(m^k\).
                </p>
            </section>

            <section>
                <h2>Exercise 2b</h2>
                <p>
                    If a player has \(m_j\) actions in the \(j^\text{th}\) information set (\(1\le j \le k\)), how many
                    pure strategies
                    does he have?
                </p>
            </section>

            <section>
                <h2>Exercise 2b: Solution</h2>
                <p>
                    For each information set, we need to assign an action. We have \(m_1\) choices for the first
                    information set, \(m_2\) for the second, etc., so the player has
                    \begin{equation*}
                    \prod_{j=1}^k m_j
                    \end{equation*}
                    pure strategies in total.
                </p>
            </section>

            <section>
                <h2>Exercise 3: Imperfect information games</h2>
                <p>
                    Consider the three games of imperfect information show in Figure 1 (information sets for player I
                    are shown via ovals rather than dotted lines).
                </p>
                <ol>
                    <li>
                        For each of the games, what information can player I lose while playing the game?
                    </li>
                    <li>
                        For each game, write down the information sets and pure strategies for both players.
                    </li>
                    <li>
                        For game B, identify any pure strategy Nash equilibria.
                    </li>
                </ol>
            </section>

            <section>
                <h2>Exercise 3i</h2>
                <img src="games/3i.svg">
            </section>

            <section>
                <h2>Exercise 3i: Solution</h2>
                <p>
                    Information player I can lose: if they get to the non-degenerate information set, they know either
                    \((a,d)\) or \((b,e)\) has been played, but they do not know which one exactly.
                </p>
            </section>

            <section>
                <h2>Exercise 3i: Solution</h2>
                <p>
                    Information sets: identifying sequences of actions with states, we see that the information sets are
                    \([],[a],[b], [ad;be]\).
                </p>
            </section>
            <section>
                <h2>Exercise 3i: Solution</h2>
                <p>
                    Player 1 pure strategies:
                    \begin{align*}
                    &\sigma_1 : \begin{cases}
                    [] \mapsto a \\
                    [ad;be] \mapsto r
                    \end{cases}\quad
                    &&\sigma_2 : \begin{cases}
                    [] \mapsto a \\
                    [ad;be] \mapsto p
                    \end{cases} \\
                    &\sigma_3 : \begin{cases}
                    [] \mapsto b \\
                    [ad;be] \mapsto r
                    \end{cases}\quad
                    &&\sigma_4 : \begin{cases}
                    [] \mapsto b \\
                    [ad;be] \mapsto p
                    \end{cases}
                    \end{align*}
                </p>
            </section>

            <section>
                <h2>Exercise 3i: Solution</h2>
                <p>
                    Player 2 pure strategies:
                    \begin{align*}
                    &\sigma_1 : \begin{cases}
                    [a] \mapsto c \\
                    [b] \mapsto e
                    \end{cases}\quad
                    &&\sigma_2 : \begin{cases}
                    [a] \mapsto c \\
                    [b] \mapsto f
                    \end{cases} \\
                    &\sigma_3 : \begin{cases}
                    [a] \mapsto d \\
                    [b] \mapsto e
                    \end{cases}\quad
                    &&\sigma_4 : \begin{cases}
                    [a] \mapsto d \\
                    [b] \mapsto f
                    \end{cases}
                    \end{align*}
                </p>
            </section>

            <section>
                <h2>Exercise 3ii</h2>
                <img src="games/3ii.svg">
            </section>

            <section>
                <h2>Exercise 3ii: Solution</h2>
                <p>
                    Information player I can lose: they can forget if they are in the first state or third state - that
                    is, whether or not player two has played yet.
                </p>
            </section>

            <section>
                <h2>Exercise 3ii: Solution</h2>
                <p>
                    Information sets: identifying sequences of actions with states, we see that the information sets are
                    \([B],[;Bb]\).
                </p>
            </section>
            <section>
                <h2>Exercise 3ii: Solution</h2>
                <p>
                    Player 1 pure strategies:
                    \begin{equation*}
                    \sigma_1 : [;Bb] \mapsto T\quad
                    \sigma_2 : [;Bb] \mapsto B
                    \end{equation*}
                </p>
            </section>

            <section>
                <h2>Exercise 3ii: Solution</h2>
                <p>
                    Player 2 pure strategies:
                    \begin{equation*}
                    \sigma_1 : [B] \mapsto t\quad
                    \sigma_2 : [B] \mapsto b
                    \end{equation*}
                </p>
            </section>

            <section>
                <h2>Exercise 3ii: Solution</h2>
                <p>
                    Nash equilibria: \(T, t\) and \(T, b\) are Nash equilibria.
                </p>
            </section>

            <section>
                <h2>Exercise 3iii</h2>
                <img src="games/3iii.svg">
            </section>

            <section>
                <h2>Exercise 3iii: Solution</h2>
                <p>
                    Information player I can lose: if they get to the non-degenerate information set, they know either
                    \((t_1, T_1, b_2)\) or \((b_1,B_2,t_3)\) has been played, but they do not know which one exactly.
                </p>
            </section>

            <section>
                <h2>Exercise 3iii: Solution</h2>
                <p>
                    Information sets: identifying sequences of actions with states, we see that the information sets are
                    \([],[t_1], [b_1], [t_1T_1], [b_1B_2], [t_1T_1b_2;b_1B_2t_3]\).
                </p>
            </section>

            <section>
                <h2>Exercise 3iii: Solution</h2>
                <p>
                    Player 1 pure strategies:
                    \begin{align*}
                    &\sigma_1 : \begin{cases}
                    [t_1] \mapsto T_1 \\
                    [b_1] \mapsto T_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto T_3
                    \end{cases}\quad
                    &&\sigma_2 : \begin{cases}
                    [t_1] \mapsto T_1 \\
                    [b_1] \mapsto T_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto B_3
                    \end{cases} \\
                    &\sigma_3 : \begin{cases}
                    [t_1] \mapsto T_1 \\
                    [b_1] \mapsto B_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto T_3
                    \end{cases}\quad
                    &&\sigma_4 : \begin{cases}
                    [t_1] \mapsto T_1 \\
                    [b_1] \mapsto B_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto B_3
                    \end{cases}
                    \end{align*}
                </p>
            </section>

            <section>
                <h2>Exercise 3iii: Solution</h2>
                <p>
                    Player 1 pure strategies:
                    \begin{align*}
                    &\sigma_5 : \begin{cases}
                    [t_1] \mapsto B_1 \\
                    [b_1] \mapsto T_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto T_3
                    \end{cases}\quad
                    &&\sigma_6 : \begin{cases}
                    [t_1] \mapsto B_1 \\
                    [b_1] \mapsto T_2\\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto B_3
                    \end{cases} \\
                    &\sigma_7 : \begin{cases}
                    [t_1] \mapsto B_1 \\
                    [b_1] \mapsto B_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto T_3
                    \end{cases}\quad
                    &&\sigma_8 : \begin{cases}
                    [t_1] \mapsto B_1 \\
                    [b_1] \mapsto B_2 \\
                    [t_1T_1b_2;b_1B_2t_3] \mapsto B_3
                    \end{cases}
                    \end{align*}
                </p>
            </section>

            <section>
                <h2>Exercise 3iii: Solution</h2>
                <p>
                    Player 2 pure strategies:
                    \begin{align*}
                    &\sigma_1 : \begin{cases}
                    [] \mapsto t_1 \\
                    [t_1T_1] \mapsto t_2 \\
                    [b_1B_2] \mapsto t_3
                    \end{cases}\quad
                    &&\sigma_2 : \begin{cases}
                    [] \mapsto t_1 \\
                    [t_1T_1] \mapsto t_2 \\
                    [b_1B_2] \mapsto b_3
                    \end{cases} \\
                    &\sigma_3 : \begin{cases}
                    [] \mapsto t_1 \\
                    [t_1T_1] \mapsto b_2 \\
                    [b_1B_2] \mapsto t_3
                    \end{cases}\quad
                    &&\sigma_4 : \begin{cases}
                    [] \mapsto t_1 \\
                    [t_1T_1] \mapsto b_2 \\
                    [b_1B_2] \mapsto b_3
                    \end{cases}
                    \end{align*}
                </p>
            </section>

            <section>
                <h2>Exercise 3iii: Solution</h2>
                <p>
                    Player 2 pure strategies:
                    \begin{align*}
                    &\sigma_5 : \begin{cases}
                    [] \mapsto b_1 \\
                    [t_1T_1] \mapsto t_2 \\
                    [b_1B_2] \mapsto t_3
                    \end{cases}\quad
                    &&\sigma_6 : \begin{cases}
                    [] \mapsto b_1 \\
                    [t_1T_1] \mapsto t_2 \\
                    [b_1B_2] \mapsto b_3
                    \end{cases} \\
                    &\sigma_7 : \begin{cases}
                    [] \mapsto b_1 \\
                    [t_1T_1] \mapsto b_2 \\
                    [b_1B_2] \mapsto t_3
                    \end{cases}\quad
                    &&\sigma_8 : \begin{cases}
                    [] \mapsto b_1 \\
                    [t_1T_1] \mapsto b_2\\
                    [b_1B_2] \mapsto b_3
                    \end{cases}
                    \end{align*}
                </p>
            </section>

            <section>
                <h2>Question 4: Iterated games</h2>
                <p>
                    Let’s consider playing the infinitely repeated prisoner’s dilemma, using finite state automata
                    strategies, and measuring utility over infinite runs, as the average utility obtained, as discussed
                    in the lecture. Recall that the payoff matrix for the (one shot) prisoner's dilemma is as follows:
                </p>
                <img src="games/prisoners_dilemma.svg">
                <p>
                    Figure 2 shows three two-state strategies for playing the iterated
                    prisoner’s dilemma.
                </p>
            </section>

            <section>
                <h2>Question 4: GRIM</h2>
                <img src="games/grim.svg">
            </section>

            <section>
                <h2>Question 4: TIT-FOR-TAT</h2>
                <img src="games/tit_for_tat.svg">
            </section>

            <section>
                <h2>Question 4: TAT-FOR-TIT</h2>
                <img src="games/tat_for_tit.svg">
            </section>

            <section>
                <h2>Question 4a</h2>
                <p>
                    Informally explain what TAT-FOR-TIT does.
                </p>
                <img src="games/tat_for_tit.svg">
            </section>

            <section>
                <h2>Question 4a: Solution</h2>
                <p>
                    TAT-FOR-TIT starts with defecting and then repeats its action as long as his opponent
                    cooperates, if his opponent defects, he changes his action. Repeat action if opponent cooperates,
                    toggle if opponent defects.
                </p>
                <p>
                    An informal way to understand is that TAT-FOR-TIT identifies whether its opponent displays
                    exploitable behaviour, and when it does not. As long as the opponent cooperates TAT-FOR-TIT
                    will exploit its behaviour by defection. As soon as the opponents shows signs of sense by defecting
                    once TAT-FOR-TIT will cooperate as long as the opponent is sensible enough to cooperate as
                    well. Once the opponent tries to exploit TAT-FOR-TIT by deviating, the latter punishes the
                    former by defecting as well.
                </p>
            </section>

            <section>
                <h2>Question 4b</h2>
                <p>
                    Consider each strategy playing against each other strategy (including itself). Compute the runs that
                    would be generated, and identify the finite but in- finitely repeating sequence of outcomes. Use
                    this repeating sequence to compute the utility obtained by each strategy in each pairing.
                </p>
            </section>

            <section>
                <h2>Question 4b: Solution</h2>
                <img src="games/automata_tournament.svg" style="width:80%">
            </section>

            <section>
                <h2>Question 4c</h2>
                <p>
                    Which of these pairs of strategies do you think forms a Nash equilibrium? (An informal argument will
                    suffice.)
                </p>
            </section>

            <section>
                <h2>Question 4c: Solution</h2>
                <p>
                    Observe that to establish that some machine strategy profile is <em>not</em> a Nash equilibrium,
                    you need to formulate a better response for one of the players, and it may suffice to show this for
                    one
                    of the named machine strategies.
                </p>
                <p>
                    However, to establish that some profile of machine strategy
                    <em>is</em> a Nash equilibria, you have to quantify over all possible strategies and show that none
                    of them is a better response!
                </p>
            </section>

            <section>
                <h2>Question 4c: Solution</h2>
                <p>
                    The following pairs are Nash equilibria:
                </p>
                <ul>
                    <li>(GRIM, GRIM);</li>
                    <li>(GRIM, TIT-FOR_TAT);</li>
                    <li>(TIT-FOR-TAT, TIT-FOR-TAT);</li>
                    <li>(TAT-FOR-TIT, TAT-FOR-TIT).</li>
                </ul>
            </section>

        </div>
        <div class="line top"></div>
        <div class="line bottom"></div>
        <div class="line left"></div>
        <div class="line right"></div>
    </div>
</body>

</html>